<div class="c-cities c-cities--areas">
  <div class="c-cities__bgGradient"></div>
  <div class="container">
    <div class="c-citiesMain">
      <div class="c-citiesMain__info">
        <h1 class="c-citiesMain__title">
          {{'–ü–∏—Ç–∏ –∫–∞–≤—É —Ç–µ–ø–µ—Ä' | translate}}
          <br>
          <b>{{'–∑—Ä—É—á–Ω—ñ—à–µ —Ç–∞ –¥–µ—à–µ–≤—à–µ' | translate}}</b>
          <br>
          {{'–†–∞–∑–æ–º –∑ CoffeePhone' | translate}}
        </h1>
        <ul class="c-citiesMain__subTitle">
          <li class="c-citiesMain__subTitleItem">
            <mat-icon>savings</mat-icon>
            {{'–†–æ–±—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∑—Ä—É—á–Ω–µ QR-–º–µ–Ω—é —Ç–∞ –æ—Ç—Ä–∏–º—É–π—Ç–µ –±–æ–Ω—É—Å–∏' | translate}}
          </li>
          <li class="c-citiesMain__subTitleItem c-citiesMain__subTitleItem--gift">
            <mat-icon>card_giftcard</mat-icon>
            {{'–ö—É–ø—É–π—Ç–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∏ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ü—ñ—é –≤ –∑–∞–∫–ª–∞–¥–∞—Ö –∑–∞ –Ω–∏–∂—á–æ—é —Ü—ñ–Ω–æ—é' | translate}}
          </li>
          <li class="c-citiesMain__subTitleItem c-citiesMain__subTitleItem--location">
            <mat-icon>location_on</mat-icon>
            {{'–ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –∑–∞–∫–ª–∞–¥—ñ–≤ –Ω–∞ –∫–∞—Ä—Ç—ñ —Ç–∞ –ø—Ä–æ–∫–ª–∞–¥–∞–π—Ç–µ –¥–æ –Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç' | translate}}
          </li>
        </ul>

        <!--        TODO: hot order-->
        <button *ngIf="false" class="o-button o-button--gradientMain" (click)="openFastOrder()" matRipple>
          <span class="o-buttonText">{{'–®–≤–∏–¥–∫–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è' | translate}}</span>
        </button>

        <p class="c-citiesMain__text" (click)="scrollToAnchor(citiesSection)">{{'–í–∏–±—Ä–∞—Ç–∏ —Å–≤–æ—î –º—ñ—Å—Ç–æ' | translate}}</p>
      </div>
      <img src="/assets/img/main-page-img.png"
           [alt]="'–ü–∏—Ç–∏ –∫–∞–≤—É —Ç–µ–ø–µ—Ä –∑—Ä—É—á–Ω—ñ—à–µ —ñ –≤–∏–≥—ñ–¥–Ω—ñ—à–µ —Ä–∞–∑–æ–º –∑ CoffeePhone' | translate" class="c-citiesMain__img">
    </div>
  </div>
  <div class="c-cards" #citiesSection>
    <div class="container">
      <ng-container *ngIf="isCitiesLoaded; else loading">
        <ng-container *ngIf="!error; else errorTemplate">
          <ng-container *ngIf="cities.length && (cities | search:(searchCityValue$ | async)).length; else citiesEmpty">
            <ul class="c-cardsList" *ngIf="cities">
              <li class="c-cardsList__item" *ngFor="let city of cities | search:(searchCityValue$ | async)"
                  (click)="openSmallCities(city.name_en)" addVisitedClass>
            <span class="c-cardsList__itemDisclose">
              <span class="c-cardsList__itemDiscloseBtn">
                <img src="/assets/img/icons/icon-more-disclose.svg" alt="">
              </span>
            </span>
                <img *ngIf="city.img" defaultImage="/assets/img/img-not-loaded.svg" [lazyLoad]="API_URL + city.img.path"
                     [alt]="city.name" class="c-cardsList__img">
                <h3 class="c-cardsList__title">{{city.name}}</h3>
              </li>
            </ul>
          </ng-container>
          <ng-template #citiesEmpty>
            <div class="c-cards__empty">
              <p class="c-cards__emptyText"
                 *ngIf="!cities.length">{{'–ó–∞—Ä–∞–∑ –Ω–µ–º–∞—î –º—ñ—Å—Ç —ñ–∑ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–º–∏ –∑–∞–∫–ª–∞–¥–∞–º–∏.' | translate}} üòû</p>
              <p class="c-cards__emptyText"
                 *ngIf="!(cities | search:(searchCityValue$ | async)).length && cities.length">{{'–¢–∞–∫–æ—ó –æ–±–ª–∞—Å—Ç—ñ –Ω–µ–º–∞—î' | translate}}
                üòû</p>
            </div>
          </ng-template>
        </ng-container>
        <ng-template #errorTemplate>
          <div class="c-cards__empty">
            <p class="c-cards__emptyText c-cards__emptyText--error">{{error | translate}}</p>
          </div>
        </ng-template>
      </ng-container>
      <ng-template #loading>
        <spinner class="c-cards__spinner"></spinner>
      </ng-template>
    </div>
  </div>
</div>
<search-input *ngIf="isCitiesLoaded" [isFixed]="true" [placeholder]="'–ó–Ω–∞–π—Ç–∏ –æ–±–ª–∞—Å—Ç—å'"></search-input>
<scroll-top [nearSearch]="true"></scroll-top>
