<form [formGroup]="selectCityForm" class="c-dialog c-dialog--small">
  <div class="c-dialog__header">
    <p class="c-dialog__title">{{'–ú—ñ—Å—Ç–∞ –∑ –∫–∞–≤\'—è—Ä–Ω—è–º–∏' | translate}}</p>
    <button class="c-dialog__close" matDialogClose>
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="c-dialog__body c-dialog__body--center">
    <p class="c-cityDialog__title">
      {{'–í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–µ –º—ñ—Å—Ç–æ' | translate}}
    </p>
    <p class="c-cityDialog__text">
      {{'–ú—ñ—Å—Ç–æ –ø–æ—Ç—Ä—ñ–±–Ω–µ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏ –≤–∞–º –≤—Å—ñ –∑–∞–∫–ª–∞–¥–∏ –¥–µ –≤–∏ –∑–º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∏.' | translate}}
    </p>
    <mat-form-field appearance="fill" class="c-cityDialog__formField">
      <mat-label>{{'–í–∏–±–µ—Ä—ñ—Ç—å –º—ñ—Å—Ç–æ' | translate}}</mat-label>
      <mat-select
        [compareWith]="compareObjects"
        disableOptionCentering
        formControlName="city"
        role="listbox"
        [disabled]="!getCitiesSub.closed">
        <ng-container *ngIf="cities.length; else citiesEmpty">
          <mat-option>
            <ngx-mat-select-search
              [formControl]="areaFilterCtrl"
              [placeholderLabel]="'–ó–Ω–∞–π—Ç–∏ –º—ñ—Å—Ç–æ' | translate"
              noEntriesFoundLabel="{{'–ú–∏ –Ω–µ –∑–Ω–∞–π—à–ª–∏ —Ç–∞–∫–µ –º—ñ—Å—Ç–æ' | translate}} üòû"
              ariaLabel="–ù–∞–π—Ç–∏ —Å–≤–æ–π –≥–æ—Ä–æ–¥"></ngx-mat-select-search>
          </mat-option>
          <mat-optgroup *ngFor="let area of filteredArea | async" [label]="area.name_en | getLocalizationCityKey | translate">
            <mat-option *ngFor="let region of area.regions" [value]="region" role="listitem">
              {{region.name_en | getLocalizationCityKey | translate}}
            </mat-option>
          </mat-optgroup>
        </ng-container>
        <ng-template #citiesEmpty>
          <p class="c-cityDialog__text c-cityDialog__text--empty">
            {{'–ó–∞—Ä–∞–∑ –Ω–µ–º–∞—î –º—ñ—Å—Ç —ñ–∑ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–º–∏ –∑–∞–∫–ª–∞–¥–∞–º–∏.' | translate}}üòû
          </p>
        </ng-template>
      </mat-select>
      <mat-error *ngIf="selectCityForm.get('city')?.hasError('required')">
        {{'–î–ª—è —Ç–æ–≥–æ —â–æ–± –∑–±–µ—Ä–µ–≥—Ç–∏ –º—ñ—Å—Ç–æ, –≤–∏–±–µ—Ä—ñ—Ç—å –π–æ–≥–æ' | translate}}
      </mat-error>
    </mat-form-field>
  </div>
  <div class="c-dialog__footer">
    <div class="c-dialog__footerBtns">
      <button class="o-button o-button--gray" matDialogClose>
        <span class="o-buttonText">{{'–ó–∞–∫—Ä–∏—Ç–∏' | translate}}</span>
      </button>
      <button class="o-button o-button--secondary" (click)="saveCity()" [disabled]="!cities.length">
        <span class="o-buttonText">{{'–ó–±–µ—Ä–µ–≥—Ç–∏ –º—ñ—Å—Ç–æ' | translate}}</span>
      </button>
    </div>
  </div>
</form>
