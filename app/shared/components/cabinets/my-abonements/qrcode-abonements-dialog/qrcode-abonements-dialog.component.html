<div class="c-dialogQrCode c-dialog c-dialog--average" [ngClass]="{'c-dialog--autoHeight': !isMyOrder}">
  <div class="c-dialog__header">
    <p *ngIf="!isMyOrder" class="c-dialog__title c-dialog__title--small">{{'QR-–∫–æ–¥ –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è' | translate}}</p>
    <p *ngIf="isMyOrder" class="c-dialog__title c-dialog__title--link c-dialog__title--small"
       (click)="toggleMyOrderTemplate()">
      <mat-icon class="c-dialogQrCode__linkIcon">arrow_back</mat-icon>
      {{'–ù–∞–∑–∞–¥' | translate}}</p>
    <button class="c-dialog__close" (click)="closeDialog()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <ng-container *ngIf="!isMyOrder; else myOrder">
    <div class="c-dialog__body c-dialog__body--center c-dialog__body--padding">
      <p class="c-dialog__text c-dialog__text--bold c-dialog__text--center">
        {{'QR-–∫–æ–¥ —É—Å–ø—ñ—à–Ω–æ –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤—Å—è' | translate}} üòå
      </p>
      <p class="c-dialog__text c-dialog__text--center c-dialog__text--small">
        {{'–ü–æ–∫–∞–∂—ñ—Ç—å —Ü–µ–π QR-–∫–æ–¥ –≤ –∫–∞–≤\'—è—Ä–Ω—ñ, —â–æ–± –∑–∞–±—Ä–∞—Ç–∏ —Å–≤–æ—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.' | translate}}
      </p>
      <img class="c-dialogQrCode__img" [lazyLoad]="abonementQrCodeData.qrCode"
           defaultImage="/assets/img/img-not-loaded.svg" alt="">
      <p class="c-dialogQrCode__text">
        {{'–ü—ñ—Å–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è –¥—ñ–∞–ª–æ–≥–æ–≤–æ–≥–æ –≤—ñ–∫–Ω–∞, —Ü–µ–π QR-–∫–æ–¥ –±—É–¥–µ –Ω–µ–¥—ñ–π—Å–Ω–∏–π –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤–∞—à–∏—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ñ–≤.' | translate}}
        <tooltip class="c-dialog__textIcon"
                 [title]="'–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è —Ü–∏–º –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–º –∑ –¥—Ä—É–≥–æ–º, –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –ú–æ—ó –ê–±–æ–Ω–µ–º–µ–Ω—Ç–∏, –≤–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω—ñ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∏ —ñ –ø–æ–¥–∞—Ä—É–π—Ç–µ —ó—Ö —Å–≤–æ—î–º—É –¥—Ä—É–≥—É.' | translate">
          <mat-icon>help</mat-icon>
        </tooltip>
      </p>
      <button class="c-dialogQrCode__link c-dialogQrCode__link--underline c-dialogQrCode__link--center"
              (click)="toggleMyOrderTemplate()">{{'–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è' | translate}}</button>
    </div>
  </ng-container>
  <ng-template #myOrder>
    <div class="c-dialog__body c-dialog__body--padding">
      <p class="c-dialog__bodyTitle">{{'–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è'| translate}}</p>
      <div class="c-dialogTable">
        <div class="c-dialogTable__row c-dialogTable__row--head">
          <div class="c-dialogTable__cell c-dialogTable__cell--notPhones">‚Ññ</div>
          <div class="c-dialogTable__cell">{{'–¢–æ–≤–∞—Ä' | translate}}</div>
          <div class="c-dialogTable__cell">{{'–ö—ñ–ª—å–∫—ñ—Å—Ç—å' | translate}}</div>
        </div>
        <div class="c-dialogTable__row" *ngFor="let abonement of abonementQrCodeData.usedAbonement.data; let i = index">
          <div class="c-dialogTable__cell c-dialogTable__cell--notPhones"><span class="mob">‚Ññ:</span> {{i + 1}}</div>
          <div class="c-dialogTable__cell">
            <span class="mob">{{'–¢–æ–≤–∞—Ä' | translate}}:</span>
            <div>
              {{abonement.product_name}}
              <ul class="c-dialogTable__cellSupplements">
                <li *ngFor="let option of abonement.supplement_options">
                  {{option.name}}<ng-container *ngIf="option.quantity > 1">({{option.quantity}})</ng-container>,
                </li>
              </ul>
            </div>
          </div>
          <div class="c-dialogTable__cell">
            <span class="mob">{{'–ö—ñ–ª—å–∫—ñ—Å—Ç—å' | translate}}:</span>{{abonement.quantity}}{{'—à—Ç' | translate}}
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  <div class="c-dialog__footer">
    <div class="c-dialog__footerBtns">
      <button class="o-button o-button--gray" type="button" (click)="closeDialog()">
        <ng-container *ngIf="deletingUnusedQrcode.closed; else btnLoading">
          {{'–ó–∞–∫—Ä–∏—Ç–∏' | translate}}
        </ng-container>
        <ng-template #btnLoading>
          <spinner class="o-buttonSpinner o-buttonSpinner--black"></spinner>
        </ng-template>
      </button>
    </div>
  </div>
</div>
